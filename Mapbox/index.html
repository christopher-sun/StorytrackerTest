<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />

<div id='map' style='width: 100%; height: 100%;'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoic3VueWJveTU0IiwiYSI6ImNqZTR5OGExcDI2Y2UzM3F0ODBndzhkaWYifQ.KBVimonWCdQnpleeDbLjag';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/sunyboy54/cje4zdire71oy2rl7s8k6k1tn'
});

// var x;
// var y = {
//     lng: [],
//     lat: []
// };

// function showPosition(position) {
//     // x = "[" + position.coords.latitude +
//     // ", " + position.coords.longitude + "]";
//
//     y.lng.push(position.coords.longitude);
//     y.lat.push(position.coords.latitude);
//
//     var marker = new mapboxgl.Marker()
//       .setLngLat(y)
//       .addTo(map);
//
//     // console.log(x);
// }

// console.log(x);
// var marker = new mapboxgl.Marker()
//   .setLngLat(x)
//   .addTo(map);

// var geojson = [
//   {
//     type: 'Feature',
//     geometry: {
//       type: 'Point',
//       coordinates: navigator.geolocation.getCurrentPosition(showPosition)
//     }
//   }
// ];

map.addControl(new mapboxgl.GeolocateControl({
    positionOptions: {
        enableHighAccuracy: true
    },
    trackUserLocation: true
}));

// console.log(x);

// var myLayer = mapboxgl.featureLayer().setGeoJSON(geojson).addTo(mapGeo);
</script>

<!-- <script>
var x = document.getElementById("demo");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    x.innerHTML = "Latitude: " + position.coords.latitude +
    "<br>Longitude: " + position.coords.longitude;
}
</script> -->
